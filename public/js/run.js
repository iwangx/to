(function(){var b={DEBUG:1,INFO:2,WARN:3,ERROR:4},d=function(){this.level=b.WARN};d.prototype={log:function(a){try{console.log(a)}catch(b){}},debug:function(a){this.level<=b.DEBUG&&this.log(a)},info:function(a){this.level<=b.INFO&&this.log(a)},warn:function(a){this.level<=b.WARN&&this.log(a)},error:function(a){this.level<=b.ERROR&&this.log(a)}};var e=function(a){var b=[],c;for(c in a)b.push(c);return b},c=function(a){a._forInKeys=e;a.Logging={Logger:d,Level:b};a.logger=new d;a.modules={};a.binders=
{};a.builders={}},f=typeof define==="function"&&!define.amd,g=typeof require==="function"&&typeof define==="function"&&define.amd;typeof require==="function"&&typeof module!=="undefined"&&module.exports?c(module.exports):f?define("jscex",function(a,b,d){c(d.exports)}):g?define("jscex",function(){var a={};c(a);return a}):(typeof Jscex=="undefined"&&(Jscex={}),c(Jscex))})();

!function(){function is_letter(ch){return UNICODE.letter.test(ch)}function is_digit(ch){return ch=ch.charCodeAt(0),ch>=48&&57>=ch}function is_alphanumeric_char(ch){return is_digit(ch)||is_letter(ch)}function is_unicode_combining_mark(ch){return UNICODE.non_spacing_mark.test(ch)||UNICODE.space_combining_mark.test(ch)}function is_unicode_connector_punctuation(ch){return UNICODE.connector_punctuation.test(ch)}function is_identifier_start(ch){return"$"==ch||"_"==ch||is_letter(ch)}function is_identifier_char(ch){return is_identifier_start(ch)||is_unicode_combining_mark(ch)||is_digit(ch)||is_unicode_connector_punctuation(ch)||"‌"==ch||"‍"==ch}function parse_js_number(num){return RE_HEX_NUMBER.test(num)?parseInt(num.substr(2),16):RE_OCT_NUMBER.test(num)?parseInt(num.substr(1),8):RE_DEC_NUMBER.test(num)?parseFloat(num):void 0}function JS_Parse_Error(message,line,col,pos){this.message=message,this.line=line,this.col=col,this.pos=pos;try{({})()}catch(ex){this.stack=ex.stack}}function js_error(message,line,col,pos){throw new JS_Parse_Error(message,line,col,pos)}function is_token(token,type,val){return token.type==type&&(null==val||token.value==val)}function tokenizer($TEXT){function peek(){return S.text.charAt(S.pos)}function next(signal_eof){var ch=S.text.charAt(S.pos++);if(signal_eof&&!ch)throw EX_EOF;return"\n"==ch?(S.newline_before=!0,++S.line,S.col=0):++S.col,ch}function find(what,signal_eof){var pos=S.text.indexOf(what,S.pos);if(signal_eof&&-1==pos)throw EX_EOF;return pos}function start_token(){S.tokline=S.line,S.tokcol=S.col,S.tokpos=S.pos}function token(type,value,is_comment){S.regex_allowed="operator"==type&&!HOP(UNARY_POSTFIX,value)||"keyword"==type&&HOP(KEYWORDS_BEFORE_EXPRESSION,value)||"punc"==type&&HOP(PUNC_BEFORE_EXPRESSION,value);var ret={type:type,value:value,line:S.tokline,col:S.tokcol,pos:S.tokpos,nlb:S.newline_before};return is_comment||(ret.comments_before=S.comments_before,S.comments_before=[]),S.newline_before=!1,ret}function skip_whitespace(){for(;HOP(WHITESPACE_CHARS,peek());)next()}function read_while(pred){for(var ret="",ch=peek(),i=0;ch&&pred(ch,i++);)ret+=next(),ch=peek();return ret}function parse_error(err){js_error(err,S.tokline,S.tokcol,S.tokpos)}function read_num(prefix){var has_e=!1,after_e=!1,has_x=!1,has_dot="."==prefix,num=read_while(function(ch,i){return"x"==ch||"X"==ch?has_x?!1:has_x=!0:has_x||"E"!=ch&&"e"!=ch?"-"==ch?after_e||0==i&&!prefix?!0:!1:"+"==ch?after_e:(after_e=!1,"."==ch?has_dot||has_x?!1:has_dot=!0:is_alphanumeric_char(ch)):has_e?!1:has_e=after_e=!0});prefix&&(num=prefix+num);var valid=parse_js_number(num);return isNaN(valid)?void parse_error("Invalid syntax: "+num):token("num",valid)}function read_escaped_char(){var ch=next(!0);switch(ch){case"n":return"\n";case"r":return"\r";case"t":return"	";case"b":return"\b";case"v":return"\x0B";case"f":return"\f";case"0":return"\x00";case"x":return String.fromCharCode(hex_bytes(2));case"u":return String.fromCharCode(hex_bytes(4));default:return ch}}function hex_bytes(n){for(var num=0;n>0;--n){var digit=parseInt(next(!0),16);isNaN(digit)&&parse_error("Invalid hex-character pattern in string"),num=num<<4|digit}return num}function read_string(){return with_eof_error("Unterminated string constant",function(){for(var quote=next(),ret="";;){var ch=next(!0);if("\\"==ch)ch=read_escaped_char();else if(ch==quote)break;ret+=ch}return token("string",ret)})}function read_line_comment(){next();var ret,i=find("\n");return-1==i?(ret=S.text.substr(S.pos),S.pos=S.text.length):(ret=S.text.substring(S.pos,i),S.pos=i),token("comment1",ret,!0)}function read_multiline_comment(){return next(),with_eof_error("Unterminated multiline comment",function(){var i=find("*/",!0),text=S.text.substring(S.pos,i),tok=token("comment2",text,!0);return S.pos=i+2,S.line+=text.split("\n").length-1,S.newline_before=text.indexOf("\n")>=0,/^@cc_on/i.test(text)&&(warn("WARNING: at line "+S.line),warn('*** Found "conditional comment": '+text),warn("*** UglifyJS DISCARDS ALL COMMENTS.  This means your code might no longer work properly in Internet Explorer.")),tok})}function read_name(){for(var ch,backslash=!1,name="";null!=(ch=peek());)if(backslash)"u"!=ch&&parse_error("Expecting UnicodeEscapeSequence -- uXXXX"),ch=read_escaped_char(),is_identifier_char(ch)||parse_error("Unicode char: "+ch.charCodeAt(0)+" is not valid in identifier"),name+=ch,backslash=!1;else if("\\"==ch)backslash=!0,next();else{if(!is_identifier_char(ch))break;name+=next()}return name}function read_regexp(){return with_eof_error("Unterminated regular expression",function(){for(var ch,prev_backslash=!1,regexp="",in_class=!1;ch=next(!0);)if(prev_backslash)regexp+="\\"+ch,prev_backslash=!1;else if("["==ch)in_class=!0,regexp+=ch;else if("]"==ch&&in_class)in_class=!1,regexp+=ch;else{if("/"==ch&&!in_class)break;"\\"==ch?prev_backslash=!0:regexp+=ch}var mods=read_name();return token("regexp",[regexp,mods])})}function read_operator(prefix){function grow(op){if(!peek())return op;var bigger=op+peek();return HOP(OPERATORS,bigger)?(next(),grow(bigger)):op}return token("operator",grow(prefix||next()))}function handle_slash(){next();var regex_allowed=S.regex_allowed;switch(peek()){case"/":return S.comments_before.push(read_line_comment()),S.regex_allowed=regex_allowed,next_token();case"*":return S.comments_before.push(read_multiline_comment()),S.regex_allowed=regex_allowed,next_token()}return S.regex_allowed?read_regexp():read_operator("/")}function handle_dot(){return next(),is_digit(peek())?read_num("."):token("punc",".")}function read_word(){var word=read_name();return HOP(KEYWORDS,word)?HOP(OPERATORS,word)?token("operator",word):HOP(KEYWORDS_ATOM,word)?token("atom",word):token("keyword",word):token("name",word)}function with_eof_error(eof_error,cont){try{return cont()}catch(ex){if(ex!==EX_EOF)throw ex;parse_error(eof_error)}}function next_token(force_regexp){if(force_regexp)return read_regexp();skip_whitespace(),start_token();var ch=peek();return ch?is_digit(ch)?read_num():'"'==ch||"'"==ch?read_string():HOP(PUNC_CHARS,ch)?token("punc",next()):"."==ch?handle_dot():"/"==ch?handle_slash():HOP(OPERATOR_CHARS,ch)?read_operator():"\\"==ch||is_identifier_start(ch)?read_word():void parse_error("Unexpected character '"+ch+"'"):token("eof")}var S={text:$TEXT.replace(/\r\n?|[\n\u2028\u2029]/g,"\n").replace(/^\uFEFF/,""),pos:0,tokpos:0,line:0,tokline:0,col:0,tokcol:0,newline_before:!1,regex_allowed:!1,comments_before:[]};return next_token.context=function(nc){return nc&&(S=nc),S},next_token}function NodeWithToken(str,start,end){this.name=str,this.start=start,this.end=end}function parse($TEXT,exigent_mode,embed_tokens){function is(type,value){return is_token(S.token,type,value)}function peek(){return S.peeked||(S.peeked=S.input())}function next(){return S.prev=S.token,S.peeked?(S.token=S.peeked,S.peeked=null):S.token=S.input(),S.token}function prev(){return S.prev}function croak(msg,line,col,pos){var ctx=S.input.context();js_error(msg,null!=line?line:ctx.tokline,null!=col?col:ctx.tokcol,null!=pos?pos:ctx.tokpos)}function token_error(token,msg){croak(msg,token.line,token.col)}function unexpected(token){null==token&&(token=S.token),token_error(token,"Unexpected token: "+token.type+" ("+token.value+")")}function expect_token(type,val){return is(type,val)?next():void token_error(S.token,"Unexpected token "+S.token.type+", expected "+type)}function expect(punc){return expect_token("punc",punc)}function can_insert_semicolon(){return!exigent_mode&&(S.token.nlb||is("eof")||is("punc","}"))}function semicolon(){is("punc",";")?next():can_insert_semicolon()||unexpected()}function as(){return slice(arguments)}function parenthesised(){expect("(");var ex=expression();return expect(")"),ex}function add_tokens(str,start,end){return str instanceof NodeWithToken?str:new NodeWithToken(str,start,end)}function $statement(){switch(is("operator","/")&&(S.peeked=null,S.token=S.input(!0)),S.token.type){case"num":case"string":case"regexp":case"operator":case"atom":return simple_statement();case"name":return is_token(peek(),"punc",":")?labeled_statement(prog1(S.token.value,next,next)):simple_statement();case"punc":switch(S.token.value){case"{":return as("block",block_());case"[":case"(":return simple_statement();case";":return next(),as("block");default:unexpected()}case"keyword":switch(prog1(S.token.value,next)){case"break":return break_cont("break");case"continue":return break_cont("continue");case"debugger":return semicolon(),as("debugger");case"do":return function(body){return expect_token("keyword","while"),as("do",prog1(parenthesised,semicolon),body)}(in_loop(statement));case"for":return for_();case"function":return function_(!0);case"if":return if_();case"return":return 0==S.in_function&&croak("'return' outside of function"),as("return",is("punc",";")?(next(),null):can_insert_semicolon()?null:prog1(expression,semicolon));case"switch":return as("switch",parenthesised(),switch_block_());case"throw":return as("throw",prog1(expression,semicolon));case"try":return try_();case"var":return prog1(var_,semicolon);case"const":return prog1(const_,semicolon);case"while":return as("while",parenthesised(),in_loop(statement));case"with":return as("with",parenthesised(),statement());default:unexpected()}}}function labeled_statement(label){S.labels.push(label);var start=S.token,stat=statement();return exigent_mode&&!HOP(STATEMENTS_WITH_LABELS,stat[0])&&unexpected(start),S.labels.pop(),as("label",label,stat)}function simple_statement(){return as("stat",prog1(expression,semicolon))}function break_cont(type){var name=is("name")?S.token.value:null;return null!=name?(next(),member(name,S.labels)||croak("Label "+name+" without matching loop or statement")):0==S.in_loop&&croak(type+" not inside a loop or switch"),semicolon(),as(type,name)}function for_(){expect("(");var init=null;return!is("punc",";")&&(init=is("keyword","var")?(next(),var_(!0)):expression(!0,!0),is("operator","in"))?for_in(init):regular_for(init)}function regular_for(init){expect(";");var test=is("punc",";")?null:expression();expect(";");var step=is("punc",")")?null:expression();return expect(")"),as("for",init,test,step,in_loop(statement))}function for_in(init){var lhs="var"==init[0]?as("name",init[1][0]):init;next();var obj=expression();return expect(")"),as("for-in",init,lhs,obj,in_loop(statement))}function $function_(in_statement){var name=is("name")?prog1(S.token.value,next):null;return in_statement&&!name&&unexpected(),expect("("),as(in_statement?"defun":"function",name,function(first,a){for(;!is("punc",")");)first?first=!1:expect(","),is("name")||unexpected(),a.push(S.token.value),next();return next(),a}(!0,[]),function(){++S.in_function;var loop=S.in_loop;S.in_loop=0;var a=block_();return--S.in_function,S.in_loop=loop,a}())}function if_(){var belse,cond=parenthesised(),body=statement();return is("keyword","else")&&(next(),belse=statement()),as("if",cond,body,belse)}function block_(){expect("{");for(var a=[];!is("punc","}");)is("eof")&&unexpected(),a.push(statement());return next(),a}function try_(){var bcatch,bfinally,body=block_();if(is("keyword","catch")){next(),expect("("),is("name")||croak("Name expected");var name=S.token.value;next(),expect(")"),bcatch=[name,block_()]}return is("keyword","finally")&&(next(),bfinally=block_()),bcatch||bfinally||croak("Missing catch/finally blocks"),as("try",body,bcatch,bfinally)}function vardefs(no_in){for(var a=[];;){is("name")||unexpected();var name=S.token.value;if(next(),is("operator","=")?(next(),a.push([name,expression(!1,no_in)])):a.push([name]),!is("punc",","))break;next()}return a}function var_(no_in){return as("var",vardefs(no_in))}function const_(){return as("const",vardefs())}function new_(){var args,newexp=expr_atom(!1);return is("punc","(")?(next(),args=expr_list(")")):args=[],subscripts(as("new",newexp,args),!0)}function expr_atom(allow_calls){if(is("operator","new"))return next(),new_();if(is("operator")&&HOP(UNARY_PREFIX,S.token.value))return make_unary("unary-prefix",prog1(S.token.value,next),expr_atom(allow_calls));if(is("punc")){switch(S.token.value){case"(":return next(),subscripts(prog1(expression,curry(expect,")")),allow_calls);case"[":return next(),subscripts(array_(),allow_calls);case"{":return next(),subscripts(object_(),allow_calls)}unexpected()}if(is("keyword","function"))return next(),subscripts(function_(!1),allow_calls);if(HOP(ATOMIC_START_TOKEN,S.token.type)){var atom="regexp"==S.token.type?as("regexp",S.token.value[0],S.token.value[1]):as(S.token.type,S.token.value);return subscripts(prog1(atom,next),allow_calls)}unexpected()}function expr_list(closing,allow_trailing_comma,allow_empty){for(var first=!0,a=[];!is("punc",closing)&&(first?first=!1:expect(","),!allow_trailing_comma||!is("punc",closing));)is("punc",",")&&allow_empty?a.push(["atom","undefined"]):a.push(expression(!1));return next(),a}function array_(){return as("array",expr_list("]",!exigent_mode,!0))}function object_(){for(var first=!0,a=[];!is("punc","}")&&(first?first=!1:expect(","),exigent_mode||!is("punc","}"));){var type=S.token.type,name=as_property_name();"name"!=type||"get"!=name&&"set"!=name||is("punc",":")?(expect(":"),a.push([name,expression(!1)])):a.push([as_name(),function_(!1),name])}return next(),as("object",a)}function as_property_name(){switch(S.token.type){case"num":case"string":return prog1(S.token.value,next)}return as_name()}function as_name(){switch(S.token.type){case"name":case"operator":case"keyword":case"atom":return prog1(S.token.value,next);default:unexpected()}}function subscripts(expr,allow_calls){return is("punc",".")?(next(),subscripts(as("dot",expr,as_name()),allow_calls)):is("punc","[")?(next(),subscripts(as("sub",expr,prog1(expression,curry(expect,"]"))),allow_calls)):allow_calls&&is("punc","(")?(next(),subscripts(as("call",expr,expr_list(")")),!0)):allow_calls&&is("operator")&&HOP(UNARY_POSTFIX,S.token.value)?prog1(curry(make_unary,"unary-postfix",S.token.value,expr),next):expr}function make_unary(tag,op,expr){return"++"!=op&&"--"!=op||is_assignable(expr)||croak("Invalid use of "+op+" operator"),as(tag,op,expr)}function expr_op(left,min_prec,no_in){var op=is("operator")?S.token.value:null;op&&"in"==op&&no_in&&(op=null);var prec=null!=op?PRECEDENCE[op]:null;if(null!=prec&&prec>min_prec){next();var right=expr_op(expr_atom(!0),prec,no_in);return expr_op(as("binary",op,left,right),min_prec,no_in)}return left}function expr_ops(no_in){return expr_op(expr_atom(!0),0,no_in)}function maybe_conditional(no_in){var expr=expr_ops(no_in);if(is("operator","?")){next();var yes=expression(!1);return expect(":"),as("conditional",expr,yes,expression(!1,no_in))}return expr}function is_assignable(expr){if(!exigent_mode)return!0;switch(expr[0]){case"dot":case"sub":case"new":case"call":return!0;case"name":return"this"!=expr[1]}}function maybe_assign(no_in){var left=maybe_conditional(no_in),val=S.token.value;if(is("operator")&&HOP(ASSIGNMENT,val)){if(is_assignable(left))return next(),as("assign",ASSIGNMENT[val],left,maybe_assign(no_in));croak("Invalid assignment")}return left}function expression(commas,no_in){0==arguments.length&&(commas=!0);var expr=maybe_assign(no_in);return commas&&is("punc",",")?(next(),as("seq",expr,expression(!0,no_in))):expr}function in_loop(cont){try{return++S.in_loop,cont()}finally{--S.in_loop}}var S={input:"string"==typeof $TEXT?tokenizer($TEXT,!0):$TEXT,token:null,prev:null,peeked:null,in_function:0,in_loop:0,labels:[]};S.token=next();var statement=embed_tokens?function(){var start=S.token,ast=$statement.apply(this,arguments);return ast[0]=add_tokens(ast[0],start,prev()),ast}:$statement,function_=embed_tokens?function(){var start=prev(),ast=$function_.apply(this,arguments);return ast[0]=add_tokens(ast[0],start,prev()),ast}:$function_,switch_block_=curry(in_loop,function(){expect("{");for(var a=[],cur=null;!is("punc","}");)is("eof")&&unexpected(),is("keyword","case")?(next(),cur=[],a.push([expression(),cur]),expect(":")):is("keyword","default")?(next(),expect(":"),cur=[],a.push([null,cur])):(cur||unexpected(),cur.push(statement()));return next(),a});return as("toplevel",function(a){for(;!is("eof");)a.push(statement());return a}([]))}function curry(f){var args=slice(arguments,1);return function(){return f.apply(this,args.concat(slice(arguments)))}}function prog1(ret){ret instanceof Function&&(ret=ret());for(var i=1,n=arguments.length;--n>0;++i)arguments[i]();return ret}function array_to_hash(a){for(var ret={},i=0;i<a.length;++i)ret[a[i]]=!0;return ret}function slice(a,start){return Array.prototype.slice.call(a,null==start?0:start)}function characters(str){return str.split("")}function member(name,array){for(var i=array.length;--i>=0;)if(array[i]===name)return!0;return!1}function HOP(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}var KEYWORDS=array_to_hash(["break","case","catch","const","continue","default","delete","do","else","finally","for","function","if","in","instanceof","new","return","switch","throw","try","typeof","var","void","while","with"]),KEYWORDS_BEFORE_EXPRESSION=(array_to_hash(["abstract","boolean","byte","char","class","debugger","double","enum","export","extends","final","float","goto","implements","import","int","interface","long","native","package","private","protected","public","short","static","super","synchronized","throws","transient","volatile"]),array_to_hash(["return","new","delete","throw","else","case"])),KEYWORDS_ATOM=array_to_hash(["false","null","true","undefined"]),OPERATOR_CHARS=array_to_hash(characters("+-*&%=<>!?|~^")),RE_HEX_NUMBER=/^0x[0-9a-f]+$/i,RE_OCT_NUMBER=/^0[0-7]+$/,RE_DEC_NUMBER=/^\d*\.?\d*(?:e[+-]?\d*(?:\d\.?|\.?\d)\d*)?$/i,OPERATORS=array_to_hash(["in","instanceof","typeof","new","void","delete","++","--","+","-","!","~","&","|","^","*","/","%",">>","<<",">>>","<",">","<=",">=","==","===","!=","!==","?","=","+=","-=","/=","*=","%=",">>=","<<=",">>>=","|=","^=","&=","&&","||"]),WHITESPACE_CHARS=array_to_hash(characters(" \n\r	​")),PUNC_BEFORE_EXPRESSION=array_to_hash(characters("[{}(,.;:")),PUNC_CHARS=array_to_hash(characters("[]{}(),;:")),UNICODE=(array_to_hash(characters("gmsiy")),{letter:new RegExp("[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u0523\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0621-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971\\u0972\\u097B-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D28\\u0D2A-\\u0D39\\u0D3D\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC\\u0EDD\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8B\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10D0-\\u10FA\\u10FC\\u1100-\\u1159\\u115F-\\u11A2\\u11A8-\\u11F9\\u1200-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u1676\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19A9\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u2094\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2C6F\\u2C71-\\u2C7D\\u2C80-\\u2CE4\\u2D00-\\u2D25\\u2D30-\\u2D65\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31B7\\u31F0-\\u31FF\\u3400\\u4DB5\\u4E00\\u9FC3\\uA000-\\uA48C\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA65F\\uA662-\\uA66E\\uA67F-\\uA697\\uA717-\\uA71F\\uA722-\\uA788\\uA78B\\uA78C\\uA7FB-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA90A-\\uA925\\uA930-\\uA946\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAC00\\uD7A3\\uF900-\\uFA2D\\uFA30-\\uFA6A\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),non_spacing_mark:new RegExp("[\\u0300-\\u036F\\u0483-\\u0487\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065E\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0900-\\u0902\\u093C\\u0941-\\u0948\\u094D\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09BC\\u09C1-\\u09C4\\u09CD\\u09E2\\u09E3\\u0A01\\u0A02\\u0A3C\\u0A41\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81\\u0A82\\u0ABC\\u0AC1-\\u0AC5\\u0AC7\\u0AC8\\u0ACD\\u0AE2\\u0AE3\\u0B01\\u0B3C\\u0B3F\\u0B41-\\u0B44\\u0B4D\\u0B56\\u0B62\\u0B63\\u0B82\\u0BC0\\u0BCD\\u0C3E-\\u0C40\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0CBC\\u0CBF\\u0CC6\\u0CCC\\u0CCD\\u0CE2\\u0CE3\\u0D41-\\u0D44\\u0D4D\\u0D62\\u0D63\\u0DCA\\u0DD2-\\u0DD4\\u0DD6\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F71-\\u0F7E\\u0F80-\\u0F84\\u0F86\\u0F87\\u0F90-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102D-\\u1030\\u1032-\\u1037\\u1039\\u103A\\u103D\\u103E\\u1058\\u1059\\u105E-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108D\\u109D\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B7-\\u17BD\\u17C6\\u17C9-\\u17D3\\u17DD\\u180B-\\u180D\\u18A9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193B\\u1A17\\u1A18\\u1A56\\u1A58-\\u1A5E\\u1A60\\u1A62\\u1A65-\\u1A6C\\u1A73-\\u1A7C\\u1A7F\\u1B00-\\u1B03\\u1B34\\u1B36-\\u1B3A\\u1B3C\\u1B42\\u1B6B-\\u1B73\\u1B80\\u1B81\\u1BA2-\\u1BA5\\u1BA8\\u1BA9\\u1C2C-\\u1C33\\u1C36\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE0\\u1CE2-\\u1CE8\\u1CED\\u1DC0-\\u1DE6\\u1DFD-\\u1DFF\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2CEF-\\u2CF1\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F\\uA67C\\uA67D\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA825\\uA826\\uA8C4\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA951\\uA980-\\uA982\\uA9B3\\uA9B6-\\uA9B9\\uA9BC\\uAA29-\\uAA2E\\uAA31\\uAA32\\uAA35\\uAA36\\uAA43\\uAA4C\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uABE5\\uABE8\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE26]"),space_combining_mark:new RegExp("[\\u0903\\u093E-\\u0940\\u0949-\\u094C\\u094E\\u0982\\u0983\\u09BE-\\u09C0\\u09C7\\u09C8\\u09CB\\u09CC\\u09D7\\u0A03\\u0A3E-\\u0A40\\u0A83\\u0ABE-\\u0AC0\\u0AC9\\u0ACB\\u0ACC\\u0B02\\u0B03\\u0B3E\\u0B40\\u0B47\\u0B48\\u0B4B\\u0B4C\\u0B57\\u0BBE\\u0BBF\\u0BC1\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCC\\u0BD7\\u0C01-\\u0C03\\u0C41-\\u0C44\\u0C82\\u0C83\\u0CBE\\u0CC0-\\u0CC4\\u0CC7\\u0CC8\\u0CCA\\u0CCB\\u0CD5\\u0CD6\\u0D02\\u0D03\\u0D3E-\\u0D40\\u0D46-\\u0D48\\u0D4A-\\u0D4C\\u0D57\\u0D82\\u0D83\\u0DCF-\\u0DD1\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0F3E\\u0F3F\\u0F7F\\u102B\\u102C\\u1031\\u1038\\u103B\\u103C\\u1056\\u1057\\u1062-\\u1064\\u1067-\\u106D\\u1083\\u1084\\u1087-\\u108C\\u108F\\u109A-\\u109C\\u17B6\\u17BE-\\u17C5\\u17C7\\u17C8\\u1923-\\u1926\\u1929-\\u192B\\u1930\\u1931\\u1933-\\u1938\\u19B0-\\u19C0\\u19C8\\u19C9\\u1A19-\\u1A1B\\u1A55\\u1A57\\u1A61\\u1A63\\u1A64\\u1A6D-\\u1A72\\u1B04\\u1B35\\u1B3B\\u1B3D-\\u1B41\\u1B43\\u1B44\\u1B82\\u1BA1\\u1BA6\\u1BA7\\u1BAA\\u1C24-\\u1C2B\\u1C34\\u1C35\\u1CE1\\u1CF2\\uA823\\uA824\\uA827\\uA880\\uA881\\uA8B4-\\uA8C3\\uA952\\uA953\\uA983\\uA9B4\\uA9B5\\uA9BA\\uA9BB\\uA9BD-\\uA9C0\\uAA2F\\uAA30\\uAA33\\uAA34\\uAA4D\\uAA7B\\uABE3\\uABE4\\uABE6\\uABE7\\uABE9\\uABEA\\uABEC]"),connector_punctuation:new RegExp("[\\u005F\\u203F\\u2040\\u2054\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFF3F]")});JS_Parse_Error.prototype.toString=function(){return this.message+" (line: "+this.line+", col: "+this.col+", pos: "+this.pos+")\n\n"+this.stack};var EX_EOF={},UNARY_PREFIX=array_to_hash(["typeof","void","delete","--","++","!","~","-","+"]),UNARY_POSTFIX=array_to_hash(["--","++"]),ASSIGNMENT=function(a,ret,i){for(;i<a.length;)ret[a[i]]=a[i].substr(0,a[i].length-1),i++;return ret}(["+=","-=","/=","*=","%=",">>=","<<=",">>>=","|=","^=","&="],{"=":!0},0),PRECEDENCE=function(a,ret){for(var i=0,n=1;i<a.length;++i,++n)for(var b=a[i],j=0;j<b.length;++j)ret[b[j]]=n;return ret}([["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"]],{}),STATEMENTS_WITH_LABELS=array_to_hash(["for","do","while","switch"]),ATOMIC_START_TOKEN=array_to_hash(["atom","num","string","regexp","name"]);NodeWithToken.prototype.toString=function(){return this.name};var warn=function(){},init=function(root){root.modules.parser||(root.parse=parse,root.modules.parser=!0)},isCommonJS="undefined"!=typeof require&&"undefined"!=typeof module&&module.exports,isAmd="undefined"!=typeof define&&define.amd;if(isCommonJS)module.exports.init=init;else if(isAmd)define("jscex-parser",function(){return{init:init}});else{if("undefined"==typeof Jscex)throw new Error('Missing root object, please load "jscex" module first.');init(Jscex)}}();
!function(){var codeGenerator="function"==typeof eval("(function () {})")?function(code){return code}:function(code){return"false || "+code},stringify="undefined"!=typeof JSON&&JSON.stringify?function(s){return JSON.stringify(s)}:function(){var escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return function(s){return escapable.lastIndex=0,escapable.test(s)?'"'+s.replace(escapable,function(a){var c=meta[a];return"s"==typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+s+'"'}}();"undefined"==typeof __jscex__tempVarSeed&&(__jscex__tempVarSeed=0);var init=function(root){function JscexTreeGenerator(binder){this._binder=binder,this._root=null}function CodeGenerator(builderName,binder,indent){this._builderName=builderName,this._binder=binder,this._normalMode=!1,this._indent=indent,this._indentLevel=0,this._builderVar="$$_builder_$$_"+__jscex__tempVarSeed++}function _isJscexPattern(ast){if("call"!=ast[0])return!1;var evalName=ast[1];if("name"!=evalName[0]||"eval"!=evalName[1])return!1;var compileCall=ast[2][0];if(!compileCall||"call"!=compileCall[0])return!1;var compileMethod=compileCall[1];if(!compileMethod||"dot"!=compileMethod[0]||"compile"!=compileMethod[2])return!1;var jscexName=compileMethod[1];if(!jscexName||"name"!=jscexName[0]||"Jscex"!=jscexName[1])return!1;var builder=compileCall[2][0];if(!builder||"string"!=builder[0])return!1;var func=compileCall[2][1];return func&&"function"==func[0]?!0:!1}function _compileJscexPattern(ast,indent){var builderName=ast[2][0][2][0][1],funcAst=ast[2][0][2][1],binder=root.binders[builderName],jscexTreeGenerator=new JscexTreeGenerator(binder),jscexAst=jscexTreeGenerator.generate(funcAst),codeGenerator=new CodeGenerator(builderName,binder,indent),newCode=codeGenerator.generate(funcAst[2],jscexAst);return newCode}function compile(builderName,func){var funcCode=func.toString(),evalCode="eval(Jscex.compile("+stringify(builderName)+", "+funcCode+"))",evalCodeAst=root.parse(evalCode),evalAst=evalCodeAst[1][0][1],newCode=_compileJscexPattern(evalAst,0);return root.logger.debug(funcCode+"\n\n>>>\n\n"+newCode),codeGenerator(newCode)}root.modules.jit||(JscexTreeGenerator.prototype={generate:function(ast){var statements=(ast[2],ast[3]);return this._root={type:"delay",stmts:[]},this._visitStatements(statements,this._root.stmts),this._root},_getBindInfo:function(stmt){var type=stmt[0];if("stat"==type){var expr=stmt[1];if("call"==expr[0]){var callee=expr[1];if("name"==callee[0]&&callee[1]==this._binder&&1==expr[2].length)return{expression:expr[2][0],argName:"",assignee:null}}else if("assign"==expr[0]){var assignee=expr[2];if(expr=expr[3],"call"==expr[0]){var callee=expr[1];if("name"==callee[0]&&callee[1]==this._binder&&1==expr[2].length)return{expression:expr[2][0],argName:"$$_result_$$",assignee:assignee}}}}else if("var"==type){var defs=stmt[1];if(1==defs.length){var item=defs[0],name=item[0],expr=item[1];if(expr&&"call"==expr[0]){var callee=expr[1];if("name"==callee[0]&&callee[1]==this._binder&&1==expr[2].length)return{expression:expr[2][0],argName:name,assignee:null}}}}else if("return"==type){var expr=stmt[1];if(expr&&"call"==expr[0]){var callee=expr[1];if("name"==callee[0]&&callee[1]==this._binder&&1==expr[2].length)return{expression:expr[2][0],argName:"$$_result_$$",assignee:"return"}}}return null},_visitStatements:function(statements,stmts,index){if(arguments.length<=2&&(index=0),index>=statements.length)return stmts.push({type:"normal"}),this;var currStmt=statements[index],bindInfo=this._getBindInfo(currStmt);if(bindInfo){var bindStmt={type:"bind",info:bindInfo};stmts.push(bindStmt),"return"!=bindInfo.assignee&&(bindStmt.stmts=[],this._visitStatements(statements,bindStmt.stmts,index+1))}else{var type=currStmt[0];if("return"==type||"break"==type||"continue"==type||"throw"==type)stmts.push({type:type,stmt:currStmt});else if("if"==type||"try"==type||"for"==type||"do"==type||"while"==type||"switch"==type||"for-in"==type){var newStmt=this._visit(currStmt);if("raw"==newStmt.type)stmts.push(newStmt),this._visitStatements(statements,stmts,index+1);else{var isLast=index==statements.length-1;if(isLast)stmts.push(newStmt);else{var combineStmt={type:"combine",first:{type:"delay",stmts:[newStmt]},second:{type:"delay",stmts:[]}};stmts.push(combineStmt),this._visitStatements(statements,combineStmt.second.stmts,index+1)}}}else stmts.push({type:"raw",stmt:currStmt}),this._visitStatements(statements,stmts,index+1)}return this},_visit:function(ast){function throwUnsupportedError(){throw new Error('"'+type+'" is not currently supported.')}var type=ast[0],visitor=this._visitors[type];return visitor?visitor.call(this,ast):void throwUnsupportedError()},_visitBody:function(ast,stmts){"block"==ast[0]?this._visitStatements(ast[1],stmts):this._visitStatements([ast],stmts)},_noBinding:function(stmts){switch(stmts[stmts.length-1].type){case"normal":case"return":case"break":case"throw":case"continue":return!0}return!1},_collectCaseStatements:function(cases,index){for(var res=[],i=index;i<cases.length;i++)for(var rawStmts=cases[i][1],j=0;j<rawStmts.length;j++){if("break"==rawStmts[j][0])return res;res.push(rawStmts[j])}return res},_visitors:{"for":function(ast){var bodyStmts=[],body=ast[4];if(this._visitBody(body,bodyStmts),this._noBinding(bodyStmts))return{type:"raw",stmt:ast};var delayStmt={type:"delay",stmts:[]},setup=ast[1];setup&&delayStmt.stmts.push({type:"raw",stmt:setup});var loopStmt={type:"loop",bodyFirst:!1,bodyStmt:{type:"delay",stmts:bodyStmts}};delayStmt.stmts.push(loopStmt);var condition=ast[2];condition&&(loopStmt.condition=condition);var update=ast[3];return update&&(loopStmt.update=update),delayStmt},"for-in":function(ast){var body=ast[4],bodyStmts=[];if(this._visitBody(body,bodyStmts),this._noBinding(bodyStmts))return{type:"raw",stmt:ast};var id=__jscex__tempVarSeed++,keysVar="$$_keys_$$_"+id,indexVar="$$_index_$$_"+id,delayStmt={type:"delay",stmts:[]},keysAst=root.parse("var "+keysVar+" = Jscex._forInKeys(obj);")[1][0];keysAst[1][0][1][2][0]=ast[3],delayStmt.stmts.push({type:"raw",stmt:keysAst}),delayStmt.stmts.push({type:"raw",stmt:root.parse("var "+indexVar+" = 0;")[1][0]});var condition=root.parse(indexVar+" < "+keysVar+".length")[1][0][1],update=root.parse(indexVar+"++")[1][0][1],loopStmt={type:"loop",bodyFirst:!1,update:update,condition:condition,bodyStmt:{type:"delay",stmts:[]}};delayStmt.stmts.push(loopStmt);var varName=ast[2][1];return"var"==ast[1][0]?loopStmt.bodyStmt.stmts.push({type:"raw",stmt:root.parse("var "+varName+" = "+keysVar+"["+indexVar+"];")[1][0]}):loopStmt.bodyStmt.stmts.push({type:"raw",stmt:root.parse(varName+" = "+keysVar+"["+indexVar+"];")[1][0]}),this._visitBody(body,loopStmt.bodyStmt.stmts),delayStmt},"while":function(ast){var bodyStmts=[],body=ast[2];if(this._visitBody(body,bodyStmts),this._noBinding(bodyStmts))return{type:"raw",stmt:ast};var loopStmt={type:"loop",bodyFirst:!1,bodyStmt:{type:"delay",stmts:bodyStmts}},condition=ast[1];return loopStmt.condition=condition,loopStmt},"do":function(ast){var bodyStmts=[],body=ast[2];if(this._visitBody(body,bodyStmts),this._noBinding(bodyStmts))return{type:"raw",stmt:ast};var loopStmt={type:"loop",bodyFirst:!0,bodyStmt:{type:"delay",stmts:bodyStmts}},condition=ast[1];return loopStmt.condition=condition,loopStmt},"switch":function(ast){for(var noBinding=!0,switchStmt={type:"switch",item:ast[1],caseStmts:[]},cases=ast[2],i=0;i<cases.length;i++){var caseStmt={item:cases[i][0],stmts:[]};switchStmt.caseStmts.push(caseStmt);var statements=this._collectCaseStatements(cases,i);this._visitStatements(statements,caseStmt.stmts),noBinding=noBinding&&this._noBinding(caseStmt.stmts)}return noBinding?{type:"raw",stmt:ast}:switchStmt},"if":function(ast){for(var noBinding=!0,ifStmt={type:"if",conditionStmts:[]},currAst=ast;;){var condition=currAst[1],condStmt={cond:condition,stmts:[]};ifStmt.conditionStmts.push(condStmt);var thenPart=currAst[2];this._visitBody(thenPart,condStmt.stmts),noBinding=noBinding&&this._noBinding(condStmt.stmts);var elsePart=currAst[3];if(!elsePart||"if"!=elsePart[0])break;currAst=elsePart}var elsePart=currAst[3];return elsePart&&(ifStmt.elseStmts=[],this._visitBody(elsePart,ifStmt.elseStmts),noBinding=noBinding&&this._noBinding(ifStmt.elseStmts)),noBinding?{type:"raw",stmt:ast}:ifStmt},"try":function(ast,stmts){var bodyStmts=[],bodyStatements=ast[1];this._visitStatements(bodyStatements,bodyStmts);var noBinding=this._noBinding(bodyStmts),tryStmt={type:"try",bodyStmt:{type:"delay",stmts:bodyStmts}},catchClause=ast[2];if(catchClause){var exVar=catchClause[0];tryStmt.exVar=exVar,tryStmt.catchStmts=[],this._visitStatements(catchClause[1],tryStmt.catchStmts),noBinding=noBinding&&this._noBinding(tryStmt.catchStmts)}var finallyStatements=ast[3];return finallyStatements&&(tryStmt.finallyStmt={type:"delay",stmts:[]},this._visitStatements(finallyStatements,tryStmt.finallyStmt.stmts),noBinding=noBinding&&this._noBinding(tryStmt.finallyStmt.stmts)),noBinding?{type:"raw",stmt:ast}:tryStmt}}},CodeGenerator.prototype={_write:function(s){return this._buffer.push(s),this},_writeLine:function(s){return this._write(s)._write("\n"),this},_writeIndents:function(){for(var i=0;i<this._indent;i++)this._write(" ");for(var i=0;i<this._indentLevel;i++)this._write("    ");return this},generate:function(params,jscexAst){return this._buffer=[],this._writeLine("(function ("+params.join(", ")+") {"),this._indentLevel++,this._writeIndents()._writeLine("var "+this._builderVar+" = Jscex.builders["+stringify(this._builderName)+"];"),this._writeIndents()._writeLine("return "+this._builderVar+".Start(this,"),this._indentLevel++,this._pos={},this._writeIndents()._visitJscex(jscexAst)._writeLine(),this._indentLevel--,this._writeIndents()._writeLine(");"),this._indentLevel--,this._writeIndents()._write("})"),this._buffer.join("")},_visitJscex:function(ast){return this._jscexVisitors[ast.type].call(this,ast),this},_visitRaw:function(ast){function throwUnsupportedError(){throw new Error('"'+type+'" is not currently supported.')}var type=ast[0],visitor=this._rawVisitors[type];return visitor?visitor.call(this,ast):throwUnsupportedError(),this},_visitJscexStatements:function(statements){for(var i=0;i<statements.length;i++){var stmt=statements[i];"raw"==stmt.type||"if"==stmt.type||"switch"==stmt.type?this._writeIndents()._visitJscex(stmt)._writeLine():"delay"==stmt.type?this._visitJscexStatements(stmt.stmts):this._writeIndents()._write("return ")._visitJscex(stmt)._writeLine(";")}},_visitRawStatements:function(statements){for(var i=0;i<statements.length;i++){var s=statements[i];switch(this._writeIndents()._visitRaw(s)._writeLine(),s[0]){case"break":case"return":case"continue":case"throw":return}}},_visitRawBody:function(body){return"block"==body[0]?this._visitRaw(body):(this._writeLine(),this._indentLevel++,this._writeIndents()._visitRaw(body),this._indentLevel--),this},_visitRawFunction:function(ast){var funcName=ast[1]||"",args=ast[2],statements=ast[3];this._writeLine("function "+funcName+"("+args.join(", ")+") {"),this._indentLevel++;var currInFunction=this._pos.inFunction;this._pos.inFunction=!0,this._visitRawStatements(statements),this._indentLevel--,this._pos.inFunction=currInFunction,this._writeIndents()._write("}")},_jscexVisitors:{delay:function(ast){if(1==ast.stmts.length){var subStmt=ast.stmts[0];switch(subStmt.type){case"delay":case"combine":case"normal":case"break":case"continue":case"loop":case"try":return void this._visitJscex(subStmt);case"return":if(!subStmt.stmt[1])return void this._visitJscex(subStmt)}}this._writeLine(this._builderVar+".Delay(function () {"),this._indentLevel++,this._visitJscexStatements(ast.stmts),this._indentLevel--,this._writeIndents()._write("})")},combine:function(ast){this._writeLine(this._builderVar+".Combine("),this._indentLevel++,this._writeIndents()._visitJscex(ast.first)._writeLine(","),this._writeIndents()._visitJscex(ast.second)._writeLine(),this._indentLevel--,this._writeIndents()._write(")")},loop:function(ast){this._writeLine(this._builderVar+".Loop("),this._indentLevel++,ast.condition?(this._writeIndents()._writeLine("function () {"),this._indentLevel++,this._writeIndents()._write("return ")._visitRaw(ast.condition)._writeLine(";"),this._indentLevel--,this._writeIndents()._writeLine("},")):this._writeIndents()._writeLine("null,"),ast.update?(this._writeIndents()._writeLine("function () {"),this._indentLevel++,this._writeIndents()._visitRaw(ast.update)._writeLine(";"),this._indentLevel--,this._writeIndents()._writeLine("},")):this._writeIndents()._writeLine("null,"),this._writeIndents()._visitJscex(ast.bodyStmt)._writeLine(","),this._writeIndents()._writeLine(ast.bodyFirst),this._indentLevel--,this._writeIndents()._write(")")},raw:function(ast){this._visitRaw(ast.stmt)},bind:function(ast){var info=ast.info;this._write(this._builderVar+".Bind(")._visitRaw(info.expression)._writeLine(", function ("+info.argName+") {"),this._indentLevel++,"return"==info.assignee?this._writeIndents()._writeLine("return "+this._builderVar+".Return("+info.argName+");"):(info.assignee&&this._writeIndents()._visitRaw(info.assignee)._writeLine(" = "+info.argName+";"),this._visitJscexStatements(ast.stmts)),this._indentLevel--,this._writeIndents()._write("})")},"if":function(ast){for(var i=0;i<ast.conditionStmts.length;i++){var stmt=ast.conditionStmts[i];this._write("if (")._visitRaw(stmt.cond)._writeLine(") {"),this._indentLevel++,this._visitJscexStatements(stmt.stmts),this._indentLevel--,this._writeIndents()._write("} else ")}this._writeLine("{"),this._indentLevel++,ast.elseStmts?this._visitJscexStatements(ast.elseStmts):this._writeIndents()._writeLine("return "+this._builderVar+".Normal();"),this._indentLevel--,this._writeIndents()._write("}")},"switch":function(ast){this._write("switch (")._visitRaw(ast.item)._writeLine(") {"),this._indentLevel++;for(var i=0;i<ast.caseStmts.length;i++){var caseStmt=ast.caseStmts[i];caseStmt.item?this._writeIndents()._write("case ")._visitRaw(caseStmt.item)._writeLine(":"):this._writeIndents()._writeLine("default:"),this._indentLevel++,this._visitJscexStatements(caseStmt.stmts),this._indentLevel--}this._writeIndents()._write("}")},"try":function(ast){this._writeLine(this._builderVar+".Try("),this._indentLevel++,this._writeIndents()._visitJscex(ast.bodyStmt)._writeLine(","),ast.catchStmts?(this._writeIndents()._writeLine("function ("+ast.exVar+") {"),this._indentLevel++,this._visitJscexStatements(ast.catchStmts),this._indentLevel--,this._writeIndents()._writeLine("},")):this._writeIndents()._writeLine("null,"),ast.finallyStmt?this._writeIndents()._visitJscex(ast.finallyStmt)._writeLine():this._writeIndents()._writeLine("null"),this._indentLevel--,this._writeIndents()._write(")")},normal:function(ast){this._write(this._builderVar+".Normal()")},"throw":function(ast){this._write(this._builderVar+".Throw(")._visitRaw(ast.stmt[1])._write(")")},"break":function(ast){this._write(this._builderVar+".Break()")},"continue":function(ast){this._write(this._builderVar+".Continue()")},"return":function(ast){this._write(this._builderVar+".Return("),ast.stmt[1]&&this._visitRaw(ast.stmt[1]),this._write(")")}},_rawVisitors:{"var":function(ast){this._write("var ");for(var items=ast[1],i=0;i<items.length;i++)this._write(items[i][0]),items[i].length>1&&this._write(" = ")._visitRaw(items[i][1]),i<items.length-1&&this._write(", ");this._write(";")},seq:function(ast){for(var i=1;i<ast.length;i++)this._visitRaw(ast[i]),i<ast.length-1&&this._write(", ")},binary:function(ast){function needBracket(item){var type=item[0];return!("num"==type||"name"==type||"dot"==type)}var op=ast[1],left=ast[2],right=ast[3];needBracket(left)?this._write("(")._visitRaw(left)._write(") "):this._visitRaw(left)._write(" "),this._write(op),needBracket(right)?this._write(" (")._visitRaw(right)._write(")"):this._write(" ")._visitRaw(right)},sub:function(ast){function needBracket(){return!("name"==prop[0])}var prop=ast[1],index=ast[2];needBracket()?this._write("(")._visitRaw(prop)._write(")[")._visitRaw(index)._write("]"):this._visitRaw(prop)._write("[")._visitRaw(index)._write("]")},"unary-postfix":function(ast){var op=ast[1],item=ast[2];this._visitRaw(item)._write(op)},"unary-prefix":function(ast){var op=ast[1],item=ast[2];this._write(op),"typeof"==op?this._write("(")._visitRaw(item)._write(")"):this._visitRaw(item)},assign:function(ast){var op=ast[1],name=ast[2],value=ast[3];this._visitRaw(name),"string"==typeof op?this._write(" "+op+"= "):this._write(" = "),this._visitRaw(value)},stat:function(ast){this._visitRaw(ast[1])._write(";")},dot:function(ast){function needBracket(){var leftOp=ast[1][0];return!("dot"==leftOp||"name"==leftOp)}needBracket()?this._write("(")._visitRaw(ast[1])._write(").")._write(ast[2]):this._visitRaw(ast[1])._write(".")._write(ast[2])},"new":function(ast){var ctor=ast[1];this._write("new ")._visitRaw(ctor)._write("(");for(var args=ast[2],i=0,len=args.length;len>i;i++)this._visitRaw(args[i]),len-1>i&&this._write(", ");this._write(")")},call:function(ast){if(_isJscexPattern(ast)){var indent=this._indent+4*this._indentLevel,newCode=_compileJscexPattern(ast,indent);this._write(newCode)}else{var invalidBind="name"==ast[1][0]&&ast[1][1]==this._binder;invalidBind&&(this._pos={inFunction:!0},this._buffer=[]),this._visitRaw(ast[1])._write("(");for(var args=ast[2],i=0;i<args.length;i++)this._visitRaw(args[i]),i<args.length-1&&this._write(", ");if(this._write(")"),invalidBind)throw"Invalid bind operation: "+this._buffer.join("")}},name:function(ast){this._write(ast[1])},object:function(ast){var items=ast[1];if(items.length<=0)this._write("{ }");else{this._writeLine("{"),this._indentLevel++;for(var i=0;i<items.length;i++)this._writeIndents()._write(stringify(items[i][0])+": ")._visitRaw(items[i][1]),i<items.length-1?this._writeLine(","):this._writeLine("");this._indentLevel--,this._writeIndents()._write("}")}},array:function(ast){this._write("[");for(var items=ast[1],i=0;i<items.length;i++)this._visitRaw(items[i]),i<items.length-1&&this._write(", ");this._write("]")},num:function(ast){this._write(ast[1])},regexp:function(ast){this._write("/"+ast[1]+"/"+ast[2])},string:function(ast){this._write(stringify(ast[1]))},"function":function(ast){this._visitRawFunction(ast)},defun:function(ast){this._visitRawFunction(ast)},"return":function(ast){if(this._pos.inFunction){this._write("return");var value=ast[1];value&&this._write(" ")._visitRaw(value),this._write(";")}else this._write("return ")._visitJscex({type:"return",stmt:ast})._write(";")},"for":function(ast){this._write("for (");var setup=ast[1];setup?(this._visitRaw(setup),"var"!=setup[0]?this._write("; "):this._write(" ")):this._write("; ");var condition=ast[2];condition&&this._visitRaw(condition),this._write("; ");var update=ast[3];update&&this._visitRaw(update),this._write(") ");var currInLoop=this._pos.inLoop;this._pos.inLoop=!0;var body=ast[4];this._visitRawBody(body),this._pos.inLoop=currInLoop},"for-in":function(ast){this._write("for (");var declare=ast[1];"var"==declare[0]?this._write("var "+declare[1][0][0]):this._visitRaw(declare),this._write(" in ")._visitRaw(ast[3])._write(") ");var body=ast[4];this._visitRawBody(body)},block:function(ast){this._writeLine("{"),this._indentLevel++,this._visitRawStatements(ast[1]),this._indentLevel--,this._writeIndents()._write("}")},"while":function(ast){var condition=ast[1],body=ast[2],currInLoop=this._pos.inLoop;this._pos.inLoop=!0,this._write("while (")._visitRaw(condition)._write(") ")._visitRawBody(body),this._pos.inLoop=currInLoop},"do":function(ast){var condition=ast[1],body=ast[2],currInLoop=this._pos.inLoop;this._pos.inLoop=!0,this._write("do ")._visitRawBody(body),this._pos.inLoop=currInLoop,"block"==body[0]?this._write(" "):this._writeLine()._writeIndents(),this._write("while (")._visitRaw(condition)._write(");")},"if":function(ast){var condition=ast[1],thenPart=ast[2];this._write("if (")._visitRaw(condition)._write(") ")._visitRawBody(thenPart);var elsePart=ast[3];elsePart&&("block"==thenPart[0]?this._write(" "):this._writeLine("")._writeIndents(),"if"==elsePart[0]?this._write("else ")._visitRaw(elsePart):this._write("else ")._visitRawBody(elsePart))},"break":function(ast){this._pos.inLoop||this._pos.inSwitch?this._write("break;"):this._write("return ")._visitJscex({type:"break",stmt:ast})._write(";")},"continue":function(ast){this._pos.inLoop?this._write("continue;"):this._write("return ")._visitJscex({type:"continue",stmt:ast})._write(";")},"throw":function(ast){var pos=this._pos;pos.inTry||pos.inFunction?this._write("throw ")._visitRaw(ast[1])._write(";"):this._write("return ")._visitJscex({type:"throw",stmt:ast})._write(";")},conditional:function(ast){this._write("(")._visitRaw(ast[1])._write(") ? (")._visitRaw(ast[2])._write(") : (")._visitRaw(ast[3])._write(")")},"try":function(ast){this._writeLine("try {"),this._indentLevel++;var currInTry=this._pos.inTry;this._pos.inTry=!0,this._visitRawStatements(ast[1]),this._indentLevel--,this._pos.inTry=currInTry;var catchClause=ast[2],finallyStatements=ast[3];catchClause&&(this._writeIndents()._writeLine("} catch ("+catchClause[0]+") {"),this._indentLevel++,this._visitRawStatements(catchClause[1]),this._indentLevel--),finallyStatements&&(this._writeIndents()._writeLine("} finally {"),this._indentLevel++,this._visitRawStatements(finallyStatements),this._indentLevel--),this._writeIndents()._write("}")},"switch":function(ast){this._write("switch (")._visitRaw(ast[1])._writeLine(") {"),this._indentLevel++;var currInSwitch=this._pos.inSwitch;this._pos.inSwitch=!0;for(var cases=ast[2],i=0;i<cases.length;i++){var c=cases[i];this._writeIndents(),c[0]?this._write("case ")._visitRaw(c[0])._writeLine(":"):this._writeLine("default:"),this._indentLevel++,this._visitRawStatements(c[1]),this._indentLevel--}this._indentLevel--,this._pos.inSwitch=currInSwitch,this._writeIndents()._write("}")}}},root.compile=compile,root.modules.jit=!0)},isCommonJS="undefined"!=typeof require&&"undefined"!=typeof module&&module.exports,isAmd="undefined"!=typeof define&&define.amd;if(isCommonJS)module.exports.init=function(root){root.modules.parser||require("./jscex-parser").init(root),init(root)};else if(isAmd)define("jscex-jit",["jscex-parser"],function(parser){return{init:function(root){root.modules.parser||parser.init(root),init(root)}}});else{if("undefined"==typeof Jscex)throw new Error('Missing root object, please load "jscex" module first.');if(!Jscex.modules.parser)throw new Error('Missing essential components, please initialize "parser" module first.');init(Jscex)}}();
(function(){var j=function(){};j.prototype={Loop:function(b,c,a,d){return{next:function(e,i){var f=function(b){a.next(e,function(a,e){if(a=="normal"||a=="continue")g(b);else if(a=="throw"||a=="return")i(a,e);else if(a=="break")i("normal");else throw Error('Invalid type for "Loop": '+a);})},g=function(a){try{c&&!a&&c.call(e),!b||b.call(e)?f(!1):i("normal")}catch(d){i("throw",d)}};d?f(!0):g(!0)}}},Delay:function(b){return{next:function(c,a){try{b.call(c).next(c,a)}catch(d){a("throw",d)}}}},Combine:function(b,
c){return{next:function(a,d){b.next(a,function(b,i,f){if(b=="normal")try{c.next(a,d)}catch(g){d("throw",g)}else d(b,i,f)})}}},Return:function(b){return{next:function(c,a){a("return",b)}}},Normal:function(){return{next:function(b,c){c("normal")}}},Break:function(){return{next:function(b,c){c("break")}}},Continue:function(){return{next:function(b,c){c("continue")}}},Throw:function(b){return{next:function(c,a){a("throw",b)}}},Try:function(b,c,a){return{next:function(d,e){b.next(d,function(b,f,g){if(b!=
"throw"||!c)a?a.next(d,function(a,c,d){a=="normal"?e(b,f,g):e(a,c,d)}):e(b,f,g);else if(c){var h;try{h=c.call(d,f)}catch(j){a?a.next(d,function(a,b,c){a=="normal"?e("throw",j):e(a,b,c)}):e("throw",j)}h&&h.next(d,function(b,c,f){b=="throw"?a?a.next(d,function(a,d,g){a=="normal"?e(b,c,f):e(a,d,g)}):e(b,c,f):a?a.next(d,function(a,d,g){a=="normal"?e(b,c,f):e(a,d,g)}):e(b,c,f)})}else a.next(d,function(a,c,d){a=="normal"?e(b,f,g):e(a,c,d)})})}}}};var h=function(b){if(!b.modules)b.modules={};if(!b.modules.builderbase)b.modules.builderbase=
!0,b.BuilderBase=j},k=typeof define==="function"&&!define.amd,l=typeof require==="function"&&typeof define==="function"&&define.amd;if(typeof require==="function"&&typeof module!=="undefined"&&module.exports)module.exports.init=h;else if(k)define("jscex-builderbase",function(b,c,a){a.exports.init=h});else if(l)define("jscex-builderbase",function(){return{init:h}});else{if(typeof Jscex==="undefined")throw Error('Missing the root object, please load "jscex" module first.');h(Jscex)}})();

(function(){var k=function(){};k.prototype={isCancellation:!0,message:"The task has been cancelled."};typeof __jscex__async__taskIdSeed==="undefined"&&(__jscex__async__taskIdSeed=0);var l=function(b){return typeof b.start==="function"&&typeof b.addEventListener==="function"&&typeof b.removeEventListener==="function"&&typeof b.complete==="function"},j=function(b){if(!b.modules.async){var d=function(){};d.prototype={register:function(a){this.isCancellationRequested&&a();if(!this._handlers)this._handlers=
[];this._handlers.push(a)},unregister:function(a){this._handlers&&(a=this._handlers.indexOf(a),a>=0&&this._handlers.splice(a,1))},cancel:function(){if(!this.isCancellationRequested){this.isCancellationRequested=!0;var a=this._handlers;delete this._handlers;for(var f=0;f<a.length;f++)try{a[f]()}catch(c){b.logger.warn("[WARNING] Cancellation handler threw an error: "+c)}}},throwIfCancellationRequested:function(){if(this.isCancellationRequested)throw new k;}};var e=function(a){this.id=++__jscex__async__taskIdSeed;
this._delegate=a;this._listeners={};this.status="ready"};e.prototype={start:function(){if(this.status!="ready")throw Error('Task can only be started in "ready" status.');this.status="running";this._delegate(this)},complete:function(a,f){if(this.status!="running")throw Error('The "complete" method can only be called in "running" status.');var c=this._listeners;delete this._listeners;if(a=="success")this.result=f,this.status="succeeded",this._notify("success",c.success);else if(a=="failure")this.error=
f,this.status=f.isCancellation?"canceled":"faulted",this._notify("failure",c.failure);else throw Error("Unsupported type: "+a);this._notify("complete",c.complete);this.error&&!c.failure&&!c.complete&&b.logger.warn("[WARNING] An unhandled error occurred: "+this.error)},_notify:function(a,f){if(f)for(var c=0;c<f.length;c++)try{f[c](this)}catch(i){b.logger.warn("[WARNING] The task's "+a+" listener threw an error: "+i)}},addEventListener:function(a,b){this._listeners&&(this._listeners[a]||(this._listeners[a]=
[]),this._listeners[a].push(b))},removeEventListener:function(a,b){if(this._listeners){var c=this._listeners[a];if(c){var i=c.indexOf(b);i>=0&&c.splice(i,1)}}}};e.create=function(a){return new e(a)};e.isTask=l;var h=function(){};h.prototype={Start:function(a,b){return e.create(function(c){b.next(a,function(a,b){if(a=="normal"||a=="return")c.complete("success",b);else if(a=="throw")c.complete("failure",b);else throw Error("Unsupported type: "+a);})})},Bind:function(a,b){return{next:function(c,e){var d=
function(a){if(a.error)e("throw",a.error);else{var d;try{d=b.call(c,a.result)}catch(h){e("throw",h);return}d.next(c,e)}};a.status=="ready"?(a.addEventListener("complete",d),a.start()):a.status=="running"?a.addEventListener("complete",d):d(a)}}}};for(var g in b.BuilderBase.prototype)h.prototype[g]=b.BuilderBase.prototype[g];if(!b.Async)b.Async={};g=b.Async;g.CancellationToken=d;g.CanceledError=k;g.Task=e;g.AsyncBuilder=h;if(!b.builders)b.builders={};b.binders.async="$await";b.builders.async=new h;
b.modules.async=!0}},m=typeof define==="function"&&!define.amd,n=typeof require==="function"&&typeof define==="function"&&define.amd;if(typeof require==="function"&&typeof module!=="undefined"&&module.exports)module.exports.init=function(b){if(!b.modules.builderbase){if(typeof __dirname==="string")try{require.paths.unshift(__dirname)}catch(d){try{module.paths.unshift(__dirname)}catch(e){}}require("jscex-builderbase").init(b)}j(b)};else if(m)define("jscex-async",["jscex-builderbase"],function(b,d,
e){e.exports.init=function(d){d.modules.builderbase||b("jscex-builderbase").init(d);j(d)}});else if(n)define("jscex-async",["jscex-builderbase"],function(b){return{init:function(d){d.modules.builderbase||b.init(d);j(d)}}});else{if(typeof Jscex==="undefined")throw Error('Missing the root object, please load "jscex" module first.');if(!Jscex.modules.builderbase)throw Error('Missing essential components, please initialize "builderbase" module first.');j(Jscex)}})();

(function(){var m=function(j){if(j.length<=1)return null;for(var f=[],h=1;h<j.length;h++)f.push(j[h]);return f},n=function(j,f){for(var h=[],k=0;k<j.length;k++)h.push(j[k]);for(;h.length<f;)h.push(void 0);return h},l=function(j){if(!j.modules["async-powerpack"]){if(!j.modules.async)throw Error('Missing essential components, please initialize "jscex-async" module first.');var f=j.Async,h=f.Task,k=f.CanceledError;f.sleep=function(a,b){return h.create(function(c){b&&b.isCancellationRequested&&c.complete("failure",
new k);var e,d;b&&(d=function(){clearTimeout(e);c.complete("failure",new k)});e=setTimeout(function(){b&&b.unregister(d);c.complete("success")},a);b&&b.register(d)})};f.onEvent=function(a,b,c){return h.create(function(e){c&&c.isCancellationRequested&&e.complete("failure",new k);var d=function(){a.removeEventListener?a.removeEventListener(b,g):a.removeListener?a.removeListener(b,g):a.detachEvent(b,g)},g,i;c&&(i=function(){d();e.complete("failure",new k)});g=function(a){c&&c.unregister(i);d();e.complete("success",
a)};a.addEventListener?a.addEventListener(b,g):a.addListener?a.addListener(b,g):a.attachEvent(b,g);c&&c.register(i)})};h.whenAll=function(){var a={},b;if(arguments.length==1){var c=arguments[0];h.isTask(c)?(a[0]=c,b=!0):(a=c,b=Object.prototype.toString.call(a)==="[object Array]")}else{for(c=0;c<arguments.length;c++)a[c]=arguments[c];b=!0}return h.create(function(e){var d={},g;for(g in a)if(a.hasOwnProperty(g)){var i=a[g];h.isTask(i)&&(d[i.id]=g)}for(var c in d)i=a[d[c]],i.status=="ready"&&i.start();
for(c in d)if(i=a[d[c]],i.error){e.complete("failure",i.error);return}var f=b?[]:{},j=function(b){if(b.error){for(var c in d)a[d[c]].removeEventListener("complete",j);e.complete("failure",b.error)}else f[d[b.id]]=b.result,delete d[b.id],k--,k==0&&e.complete("success",f)},k=0;for(c in d)g=d[c],i=a[g],i.status=="succeeded"?(f[g]=i.result,delete d[i.id]):(k++,i.addEventListener("complete",j));k==0&&e.complete("success",f)})};h.whenAny=function(){var a={};if(arguments.length==1){var b=arguments[0];h.isTask(b)?
a[0]=b:a=b}else for(b=0;b<arguments.length;b++)a[b]=arguments[b];return h.create(function(b){var e={},d;for(d in a)if(a.hasOwnProperty(d)){var g=a[d];h.isTask(g)&&(e[g.id]=d)}for(var i in e)g=a[e[i]],g.status=="ready"&&g.start();for(i in e)if(d=e[i],g=a[d],g.error||g.status=="succeeded"){b.complete("success",{key:d,task:g});return}var f=function(d){for(var g in e)a[e[g]].removeEventListener("complete",f);b.complete("success",{key:e[d.id],task:d})};for(i in e)a[e[i]].addEventListener("complete",f)})};
if(!f.Jscexify)f.Jscexify={};f=f.Jscexify;f.fromStandard=function(a){var b=m(arguments);return function(){var c=this,e=n(arguments,a.length-1);return h.create(function(d){e.push(function(a,c){if(a)d.complete("failure",a);else if(b){for(var e={},f=0;f<b.length;f++)e[b[f]]=arguments[f+1];return d.complete("success",e)}else d.complete("success",c)});a.apply(c,e)})}};f.fromCallback=function(a){var b=m(arguments);return function(){var c=this,e=n(arguments,a.length-1);return h.create(function(d){e.push(function(a){if(b){for(var c=
{},e=0;e<b.length;e++)c[b[e]]=arguments[e];d.complete("success",c)}else d.complete("success",a)});a.apply(c,e)})}};j.modules["async-powerpack"]=!0}},o=typeof define==="function"&&!define.amd,p=typeof require==="function"&&typeof define==="function"&&define.amd;if(typeof require==="function"&&typeof module!=="undefined"&&module.exports)module.exports.init=l;else if(o)define("jscex-async-powerpack",["jscex-async"],function(j,f,h){h.exports.init=l});else if(p)define("jscex-async-powerpack",["jscex-async"],
function(){return{init:l}});else{if(typeof Jscex==="undefined")throw Error('Missing the root object, please load "jscex" module first.');l(Jscex)}})();
